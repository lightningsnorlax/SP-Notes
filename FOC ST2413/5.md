# 5

## TCP/IP's Layered Architecture

- Protocols are rules and procedures for communication and behavior.
- Protocol suite/ protocol stack is when a set of protocols work cooperatively.
- Transmission Control Protocol/ Internet Protocol (TCP/ IP) is the most common protocol
- TCP/IP is composed of more than a dozen protocols operating at different levels.

| Layer name | TCP/IP protocols| | | |
| ---------- | --------------- |-|-|-|
|Application | HTTP | FTP | DCHP | TFTP |
|            | SMTP | POP3 | DNS | SNMP |
| Transport  | TCP  |      | UDP | |
|Internetwork| ICMP | ARP | IPsec | |
| | IPv4 and IPv6 | | | |
|Network access| Ethernet | token ring | WAN technologies|FDDI|

| Layer/ process | Format |
|-------|--------|
|Home Page|"http://www.cengage.com"|
|Web Browser|get the cengage.com home page (Data)|
|Application layer protocol -> TCP| |
|TCP|TCP header / get the cengage.com home page|
|TCP -> Internetwork IP| |
|Internetwork IP|IP header / TCP header / get the cengage.com home page|
|Thing is now called a packet| |
|Packet -> Network Access layer| |
|Network Access layer|Frame header / IP header / TCP header / get the cengage.com home page / frame trailer|
|Thing is now a frame| |
|web server processes| |
|returns a web page| |

## Packet Details

- Data part of an Ethernet packet can hold up to 1500 bytes.
- MAC-addresses are 6 bytes.
- Number of bytes is 2 bytes wide.
- Maximum size of an Ethernet frame is 1514 bytes.

## Remote Desktop Protocol (RDP)

> Remote Desktop Protocol (RDP) is used to access a Windows computer remotely by using Windows GUI

## Telnet and SSH

- Used to connect to a device across a network via a command-line interface.
- Eg. Used to connect to a managed switch.
- Telnet uses TCP 23 (not secured)
- SSH uses TCP port 22 (Providdes an encrypted channel between client and server)

## Domain Name System (DNS)

- DNS is a name-to-address resolution protocol that keeps a list of computer names and their IP addresses.
- Using DNS a user can use a computer's name instead of it's IP address.
- DNS uses UDP because DNS messages usually consist of a single packet of data

___

## Transport-Layer Protocols 

- Used with most application layer protocols.
- They supply a header field to identify the application layer.
- Provide reliability and flow control for applications. It transfers large amount of data.

Roles:

- Transport layer
  - Transmission Control Protocol (TCP)
  - User Datagram Protocol (UDP)

> Both TCP and UDP
> - Work with segments or datagrams.
> - Provide a means to identify the src and dest applications involoved in a communication.
> - Protects data with checksum. (discards errors)
> - Adds a header to data.
> - Uses port numbers. (port numbers are 16-bit values)

### TCP
- Establishes a connection
- segments large chunks of daa
- Ensures flow control with acknoledgements
- Connection-oriented protocol
- establishes a connection with dest, data is transferred, and the connection is broken.
- TCP Handshake
  - Sends a TCP synchronization (SYN) segment to the dest device (usually a server)
  - When SYN segment is recieved, responds with ackknowledgement-synchronizationn (ACK-SYN) segment, or a reset connection (RST) segment.
  - RST when the server refuses the request to open a session
  - ACK-SYN when the client completes the Three-Way Handshake
- Segmenting data
  - Data might be too big, so TCP breaks it into segments.
  - Segments are labeled with a sequence number so that the can be reassembled correctly.
- Ensuring flow control with acknoeledgements
  - Flow control prevents a dest from being overwhelmed by data, resulting in packe loss.
  - TCP establishes a max number of bytes that can be sent to a dest before an acknoledgement must be recieved. (Window Size)
  - Data will be retransmitted from the last point an acknowledgement was last received.

___

## Internetwork-Layer protocols

- Where administrators do most network configurations.
- IP Protocol is the heart of the TCP/ IP protocol suite.
- Responsible for:
  - Defining and verifying IP addresses
  - Routing packets through an internetwork
  - Resolving MAC addresses from IP addresses
  - Delivering packets efficiently

> When a protocol on the sending system adds data to the packet header, the process is called data encapsulation.

